# Step 4: 完整性检查

## 任务目标
对开发方案和实施结果进行全面检查，确保符合所有要求和标准。

## 输入
- Step 1: 问题描述
- Step 2: 系统分析
- Step 3: 胶水开发方案
- 实施代码（如果有）

## 检查项

### 1. 胶水工程原则检查
- [ ] **优先复用**: 是否最大化复用了现有组件？
- [ ] **最小化代码**: 胶水层代码是否精简？
- [ ] **架构驱动**: 是否遵循 Canvas 架构设计？
- [ ] **自动化验证**: 是否有自动化测试？
- [ ] **持续优化**: 是否考虑了优化空间？

### 2. 功能完整性检查
- [ ] 所有功能需求是否已实现？
- [ ] 非功能需求是否满足？
- [ ] 约束条件是否遵守？
- [ ] 成功标准是否可达成？

### 3. 代码质量检查
- [ ] 代码是否符合编码规范？
- [ ] 是否有充分的注释？
- [ ] 是否有单元测试？
- [ ] 是否有集成测试？
- [ ] 错误处理是否完善？

### 4. 架构一致性检查
- [ ] 实际架构是否与 Canvas 一致？
- [ ] 模块依赖是否清晰？
- [ ] 接口设计是否合理？
- [ ] 数据流是否正确？

### 5. 文档完整性检查
- [ ] 是否有 README？
- [ ] 是否有 API 文档？
- [ ] 是否有部署文档？
- [ ] 是否有使用示例？

### 6. 性能和安全检查
- [ ] 性能是否满足要求？
- [ ] 是否有性能瓶颈？
- [ ] 安全性是否考虑？
- [ ] 是否有安全漏洞？

## 检查结果处理

### 通过条件
所有关键检查项（标记为 **[ ]**）必须通过。

### 失败处理
如果检查失败：
1. 记录失败原因
2. 返回 Step 2 或 Step 3 进行修正
3. 重新执行检查
4. 最多重试 3 次

## 输出格式
```markdown
## 完整性检查报告

### 胶水工程原则
- [x] 优先复用: 通过
- [x] 最小化代码: 通过
- [ ] 架构驱动: 失败 - [原因]
...

### 功能完整性
[检查结果]

### 代码质量
[检查结果]

### 架构一致性
[检查结果]

### 文档完整性
[检查结果]

### 性能和安全
[检查结果]

## 总体评估
[通过/失败]

## 改进建议
1. [建议1]
2. [建议2]
3. [建议3]

## 下一步行动
- 如果通过: 进入 Step 5
- 如果失败: 返回 [Step X] 进行修正
```

## 参考资源
- vibe-coding-cn: i18n/zh/workflow/auto-dev-loop/README.md
- 胶水工程验证标准

## 注意事项
- 严格按标准检查，不放过任何问题
- 提供具体的改进建议
- 确保检查结果可追溯
